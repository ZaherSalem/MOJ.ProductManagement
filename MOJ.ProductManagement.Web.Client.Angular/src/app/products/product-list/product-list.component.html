<div class="main-container">
    <p-toast></p-toast>
  
    <div class="d-flex justify-content-between align-items-center mb-4">
      <h2>Products Management</h2>
      <button pButton icon="pi pi-plus" label="Add Product" (click)="showEditDialog()"></button>
    </div>
    <div class="mb-3">
      <input type="text" pInputText placeholder="Search products..." [(ngModel)]="searchTerm" (input)="onSearch()" class="me-2" style="width: 250px;" />
    </div>
  
    <p-card>
      <p-table [value]="products" [loading]="loading" [paginator]="true" [rows]="10">
        <ng-template pTemplate="header">
          <tr>
            <th *ngFor="let col of columnHeaders">{{ col.label }}</th>
          </tr>
        </ng-template>
        <ng-template pTemplate="body" let-product>
            <tr>
            <td *ngFor="let col of columnHeaders">
              {{ product[col.field] }}
            </td>
            <td>
              <button pButton icon="pi pi-pencil" class="p-button-rounded p-button-success me-2"
                  (click)="showEditDialog(product)"></button>
              <button pButton icon="pi pi-trash" class="p-button-rounded p-button-danger"
                  (click)="confirmDelete(product)"></button>
            </td>
            </tr>
        </ng-template>
      </p-table>
    </p-card>
  
    <p-dialog [(visible)]="displayDialog" [style]="{width: '450px'}" header="Product Details" [modal]="true">
      <app-product-form
        [selectedProduct]="selectedProduct"
        [quantityOptions]="quantityOptions"
        [suppliers]="suppliers"
        (save)="saveProduct()"
        (cancel)="displayDialog=false">
      </app-product-form>
    </p-dialog>
  </div>